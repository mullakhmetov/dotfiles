#!/bin/zsh

# General
reload(){ source ~/.zshrc }

whoseport() {lsof -nPi:$1}

function p1() {
	ping 1.1.1.1
}

function p8() {
	ping 8.8.8.8
}

function pya() {
	ping ya.ru
}

function ttl() {
	sudo sysctl -w net.inet.ip.ttl=65
}

tmux_fzf_new_window() {
    local dir=$(fff)
    [ -n "$dir" ] && tmux new-window -c "$dir"
}

# Git
HASH="%C(always,yellow)%h%C(always,reset)"
RELATIVE_TIME="%C(always,green)%ar%C(always,reset)"
AUTHOR="%C(always,bold blue)%an%C(always,reset)"
REFS="%C(always,red)%d%C(always,reset)"
SUBJECT="%s"

FORMAT="$HASH $RELATIVE_TIME{$AUTHOR{$REFS $SUBJECT"

pretty_git_log() {
  git log --graph --pretty="tformat:$FORMAT" $* |
  column -t -s '{' |
  less -XRS --quit-if-one-screen
}

# Claude Code
function ccc() {
    claude -p "/commit $*"
}
