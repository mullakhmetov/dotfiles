#!/bin/zsh

BASE_DIR="$(dirname "$0")"
directory=$(readlink ${BASE_DIR}/shell_scripts)
# Add directory to PATH if not already added
if [[ ":$PATH:" != *":$directory:"* ]]; then
	export PATH="$directory:$PATH"
fi

export PYENV_ROOT="$HOME/.pyenv"
[[ -d $PYENV_ROOT/bin ]] && export PATH="$PYENV_ROOT/bin:$PATH"

# Lazy load pyenv for faster shell startup
pyenv() {
  unset -f pyenv
  eval "$(command pyenv init -)"
  pyenv "$@"
}

# Go
export GOPATH=$HOME/Workspace/golang
export GOBIN=$GOPATH/bin
export GOPROXY=direct
export GOTOOLCHAIN=auto
if [[ "$(uname)" == "Darwin" ]]; then
  export GOROOT="$(brew --prefix golang)/libexec"
  export PATH="$PATH:$GOROOT/bin"
fi
export PATH="$PATH:$GOBIN"

# Database clients (macOS Homebrew paths)
if [[ "$(uname)" == "Darwin" ]]; then
  export PATH="/opt/homebrew/opt/libpq/bin:$PATH"
  export PATH="/opt/homebrew/opt/mysql-client@8.0/bin:$PATH"
fi

# Local binaries
export PATH="$HOME/.local/bin:$PATH"
